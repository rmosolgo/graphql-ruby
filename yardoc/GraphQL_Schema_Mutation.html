<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta http-equiv="refresh" content="1;url=/api-doc/2.4.14/GraphQL/Schema/Mutation" />
  </head>
  <body>
    <p>Class: GraphQL::Schema::Mutation &lt; GraphQL::Schema::Resolver
This base class accepts configuration for a mutation root field,
then it can be hooked up to your mutation root object type. 
If you want to customize how this class generates types, in your
base class, override the various <code class="language-plaintext highlighter-rouge">generate_*</code> methods. 
Examples:</p>
<h1 id="creating-a-comment">Creating a comment</h1>
<h1 id="define-the-mutation">Define the mutation:</h1>
<p>class Mutations::CreateComment &lt; GraphQL::Schema::Mutation
argument :body, String, required: true
argument :post_id, ID, required: true
field :comment, Types::Comment, null: true
field :errors, [String], null: false
def resolve(body:, post_id:)
post = Post.find(post_id)
comment = post.comments.build(body: body, author: context[:current_user])
if comment.save</p>
<h1 id="successful-creation-return-the-created-object-with-no-errors">Successful creation, return the created object with no errors</h1>
<p>{
comment: comment,
errors: [],
}
else</p>
<h1 id="failed-save-return-the-errors-to-the-client">Failed save, return the errors to the client</h1>
<p>{
comment: nil,
errors: comment.errors.full_messages
}
end
end
end</p>
<h1 id="hook-it-up-to-your-mutation">Hook it up to your mutation:</h1>
<p>class Types::Mutation &lt; GraphQL::Schema::Object
field :create_comment, mutation: Mutations::CreateComment
end</p>
<h1 id="call-it-from-graphql">Call it from GraphQL:</h1>
<p>result = MySchema.execute «-GRAPHQL
mutation {
createComment(postId: “1”, body: “Nice Post!”) {
errors
comment {
body
author {
login
}
}
}
}
GRAPHQL
See Also:</p>
<ul>
  <li>{GraphQL::Schema::RelayClassicMutation} - for an extension of this
class with some conventions built-in.
Direct Known Subclasses:
RelayClassicMutation
Extended by:
GraphQL::Schema::Member::HasFields,
GraphQL::Schema::Resolver::HasPayloadType
Class methods:
conflict_field_name_warning, generate_payload_type, visible?
Instance methods:
call_resolve</li>
</ul>


  </body>
</html>
