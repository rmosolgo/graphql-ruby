<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: GraphQL::Execution::Interpreter::Runtime
  
    &mdash; GraphQL Ruby API Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "GraphQL::Execution::Interpreter::Runtime";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Interpreter.html" title="GraphQL::Execution::Interpreter (class)">Interpreter</a></span></span>
     &raquo; 
    <span class="title">Runtime</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: GraphQL::Execution::Interpreter::Runtime
  
  
  <span class="private note title">Private</span>
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">GraphQL::Execution::Interpreter::Runtime</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/graphql/execution/interpreter/runtime.rb<span class="defines">,<br />
  lib/graphql/execution/interpreter/runtime/graphql_result.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This class is part of a private API.</strong>
  You should avoid using this class if possible, as it may be removed or be changed in the future.
</p>
<p>I think it would be even better if we could somehow make
<code>continue_field</code> not recursive. “Trampolining” it somehow.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Runtime/GraphQLResult.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResult (module)">GraphQLResult</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Runtime/CurrentState.html" title="GraphQL::Execution::Interpreter::Runtime::CurrentState (class)">CurrentState</a></span>, <span class='object_link'><a href="Runtime/GraphQLResultArray.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultArray (class)">GraphQLResultArray</a></span>, <span class='object_link'><a href="Runtime/GraphQLResultHash.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash (class)">GraphQLResultHash</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="NO_ARGS-constant" class="">NO_ARGS =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../EmptyObjects.html" title="GraphQL::EmptyObjects (module)">EmptyObjects</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../EmptyObjects.html#EMPTY_HASH-constant" title="GraphQL::EmptyObjects::EMPTY_HASH (constant)">EMPTY_HASH</a></span></span></pre></dd>
      
        <dt id="HALT-constant" class="">HALT =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#context-instance_method" title="#context (instance method)">#<strong>context</strong>  &#x21d2; GraphQL::Query::Context </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#query-instance_method" title="#query (instance method)">#<strong>query</strong>  &#x21d2; GraphQL::Query </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#schema-instance_method" title="#schema (instance method)">#<strong>schema</strong>  &#x21d2; Class&lt;GraphQL::Schema&gt; </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after_lazy-instance_method" title="#after_lazy (instance method)">#<strong>after_lazy</strong>(lazy_obj, field:, owner_object:, arguments:, ast_node:, result:, result_name:, eager: false, runtime_state:, trace: true, &amp;block)  &#x21d2; GraphQL::Execution::Lazy, Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>If loading <code>object</code> will be deferred, it’s a wrapper over it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#arguments-instance_method" title="#arguments (instance method)">#<strong>arguments</strong>(graphql_object, arg_owner, ast_node)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_method_on_directives-instance_method" title="#call_method_on_directives (instance method)">#<strong>call_method_on_directives</strong>(method_name, object, directives, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#continue_field-instance_method" title="#continue_field (instance method)">#<strong>continue_field</strong>(value, owner_type, field, current_type, ast_node, next_selections, is_non_null, owner_object, arguments, result_name, selection_result, was_scoped, runtime_state)  &#x21d2; Lazy, ... </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The resolver for <code>field</code> returned <code>value</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#continue_value-instance_method" title="#continue_value (instance method)">#<strong>continue_value</strong>(value, field, is_non_null, ast_node, result_name, selection_result)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>rubocop:disable Metrics/ParameterLists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_path-instance_method" title="#current_path (instance method)">#<strong>current_path</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_all_interpreter_context-instance_method" title="#delete_all_interpreter_context (instance method)">#<strong>delete_all_interpreter_context</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#directives_include%3F-instance_method" title="#directives_include? (instance method)">#<strong>directives_include?</strong>(node, graphql_object, parent_type)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Check <span class='object_link'><a href="../../Schema/Directive.html#include%3F-class_method" title="GraphQL::Schema::Directive.include? (method)">Schema::Directive.include?</a></span> for each directive that’s present.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_gathered_selections-instance_method" title="#each_gathered_selections (instance method)">#<strong>each_gathered_selections</strong>(response_hash)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_selection-instance_method" title="#evaluate_selection (instance method)">#<strong>evaluate_selection</strong>(result_name, field_ast_nodes_or_ast_node, selections_result)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_selection_with_args-instance_method" title="#evaluate_selection_with_args (instance method)">#<strong>evaluate_selection_with_args</strong>(arguments, field_defn, ast_node, field_ast_nodes, object, result_name, selection_result, runtime_state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>rubocop:disable Metrics/ParameterLists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_selection_with_resolved_keyword_args-instance_method" title="#evaluate_selection_with_resolved_keyword_args (instance method)">#<strong>evaluate_selection_with_resolved_keyword_args</strong>(kwarg_arguments, resolved_arguments, field_defn, ast_node, field_ast_nodes, object, result_name, selection_result, runtime_state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>rubocop:disable Metrics/ParameterLists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_selections-instance_method" title="#evaluate_selections (instance method)">#<strong>evaluate_selections</strong>(gathered_selections, selections_result, target_result, runtime_state)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#final_result-instance_method" title="#final_result (instance method)">#<strong>final_result</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gather_selections-instance_method" title="#gather_selections (instance method)">#<strong>gather_selections</strong>(owner_object, owner_type, selections, selections_to_run = nil, selections_by_name = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_current_runtime_state-instance_method" title="#get_current_runtime_state (instance method)">#<strong>get_current_runtime_state</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(query:, lazies_at_depth:)  &#x21d2; Runtime </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>A new instance of Runtime.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lazy%3F-instance_method" title="#lazy? (instance method)">#<strong>lazy?</strong>(object)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#minimal_after_lazy-instance_method" title="#minimal_after_lazy (instance method)">#<strong>minimal_after_lazy</strong>(value, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_list_item-instance_method" title="#resolve_list_item (instance method)">#<strong>resolve_list_item</strong>(inner_value, inner_type, inner_type_non_null, ast_node, field, owner_object, arguments, this_idx, response_list, owner_type, was_scoped, runtime_state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>rubocop:disable Metrics/ParameterLists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_type-instance_method" title="#resolve_type (instance method)">#<strong>resolve_type</strong>(type, value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_directive-instance_method" title="#run_directive (instance method)">#<strong>run_directive</strong>(method_name, object, directives, idx, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_eager-instance_method" title="#run_eager (instance method)">#<strong>run_eager</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>This <em>begins</em> the execution.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_graphql_dead-instance_method" title="#set_graphql_dead (instance method)">#<strong>set_graphql_dead</strong>(selection_result)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Mark this node and any already-registered children as dead, so that it accepts no more writes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_result-instance_method" title="#set_result (instance method)">#<strong>set_result</strong>(selection_result, result_name, value, is_child_result, is_non_null)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(query:, lazies_at_depth:)  &#x21d2; <tt><span class='object_link'><a href="" title="GraphQL::Execution::Interpreter::Runtime (class)">Runtime</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns a new instance of Runtime.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>query:</span><span class='comma'>,</span> <span class='label'>lazies_at_depth:</span><span class='rparen'>)</span>
  <span class='ivar'>@query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span>
  <span class='ivar'>@current_trace</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_current_trace'>current_trace</span>
  <span class='ivar'>@dataloader</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_multiplex'>multiplex</span><span class='period'>.</span><span class='id identifier rubyid_dataloader'>dataloader</span>
  <span class='ivar'>@lazies_at_depth</span> <span class='op'>=</span> <span class='id identifier rubyid_lazies_at_depth'>lazies_at_depth</span>
  <span class='ivar'>@schema</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_schema'>schema</span>
  <span class='ivar'>@context</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='comment'># Identify runtime directives by checking which of this schema&#39;s directives have overridden `def self.resolve`
</span>  <span class='ivar'>@runtime_directive_names</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_noop_resolve_owner'>noop_resolve_owner</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">Schema</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema/Directive.html" title="GraphQL::Schema::Directive (class)">Directive</a></span></span><span class='period'>.</span><span class='id identifier rubyid_singleton_class'>singleton_class</span>
  <span class='ivar'>@schema_directives</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span>
  <span class='ivar'>@schema_directives</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:resolve</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span> <span class='op'>!=</span> <span class='id identifier rubyid_noop_resolve_owner'>noop_resolve_owner</span>
      <span class='ivar'>@runtime_directive_names</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># { Class =&gt; Boolean }
</span>  <span class='ivar'>@lazy_cache</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@lazy_cache</span><span class='period'>.</span><span class='id identifier rubyid_compare_by_identity'>compare_by_identity</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="context-instance_method">
  
    #<strong>context</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Query/Context.html" title="GraphQL::Query::Context (class)">GraphQL::Query::Context</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Query/Context.html" title="GraphQL::Query::Context (class)">GraphQL::Query::Context</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@context</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="query-instance_method">
  
    #<strong>query</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Query.html" title="GraphQL::Query (class)">GraphQL::Query</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Query.html" title="GraphQL::Query (class)">GraphQL::Query</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 30</span>

<span class='kw'>def</span> <span class='id identifier rubyid_query'>query</span>
  <span class='ivar'>@query</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="schema-instance_method">
  
    #<strong>schema</strong>  &#x21d2; <tt>Class&lt;<span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">GraphQL::Schema</a></span>&gt;</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Class&lt;<span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">GraphQL::Schema</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_schema'>schema</span>
  <span class='ivar'>@schema</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="after_lazy-instance_method">
  
    #<strong>after_lazy</strong>(lazy_obj, field:, owner_object:, arguments:, ast_node:, result:, result_name:, eager: false, runtime_state:, trace: true, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">GraphQL::Execution::Lazy</a></span></tt>, <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns If loading <code>object</code> will be deferred, it’s a wrapper over it.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>obj</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Some user-returned value that may want to be batched</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>field</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Schema/Field.html" title="GraphQL::Schema::Field (class)">GraphQL::Schema::Field</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>eager</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set to <code>true</code> for mutation root fields only</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>trace</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If <code>false</code>, don’t wrap this with field tracing</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">GraphQL::Execution::Lazy</a></span></tt>, <tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If loading <code>object</code> will be deferred, it’s a wrapper over it.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 756</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='comma'>,</span> <span class='label'>field:</span><span class='comma'>,</span> <span class='label'>owner_object:</span><span class='comma'>,</span> <span class='label'>arguments:</span><span class='comma'>,</span> <span class='label'>ast_node:</span><span class='comma'>,</span> <span class='label'>result:</span><span class='comma'>,</span> <span class='label'>result_name:</span><span class='comma'>,</span> <span class='label'>eager:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>runtime_state:</span><span class='comma'>,</span> <span class='label'>trace:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_orig_result'>orig_result</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span>
    <span class='id identifier rubyid_was_authorized_by_scope_items'>was_authorized_by_scope_items</span> <span class='op'>=</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_was_authorized_by_scope_items'>was_authorized_by_scope_items</span>
    <span class='id identifier rubyid_lazy'>lazy</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lazy.html#initialize-instance_method" title="GraphQL::Execution::Lazy#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='comment'># This block might be called in a new fiber;
</span>      <span class='comment'># In that case, this will initialize a new state
</span>      <span class='comment'># to avoid conflicting with the parent fiber.
</span>      <span class='id identifier rubyid_runtime_state'>runtime_state</span> <span class='op'>=</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_field'>current_field</span> <span class='op'>=</span> <span class='id identifier rubyid_field'>field</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_arguments'>current_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result_name'>current_result_name</span> <span class='op'>=</span> <span class='id identifier rubyid_result_name'>result_name</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span> <span class='op'>=</span> <span class='id identifier rubyid_orig_result'>orig_result</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_was_authorized_by_scope_items'>was_authorized_by_scope_items</span> <span class='op'>=</span> <span class='id identifier rubyid_was_authorized_by_scope_items'>was_authorized_by_scope_items</span>
      <span class='comment'># Wrap the execution of _this_ method with tracing,
</span>      <span class='comment'># but don&#39;t wrap the continuation below
</span>      <span class='id identifier rubyid_inner_obj'>inner_obj</span> <span class='op'>=</span> <span class='kw'>begin</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_trace'>trace</span>
          <span class='ivar'>@current_trace</span><span class='period'>.</span><span class='id identifier rubyid_execute_field_lazy'>execute_field_lazy</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>ast_node:</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex_err'>ex_err</span>
        <span class='id identifier rubyid_ex_err'>ex_err</span>
      <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_handle_or_reraise'>handle_or_reraise</span><span class='lparen'>(</span><span class='id identifier rubyid_err'>err</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex_err'>ex_err</span>
          <span class='id identifier rubyid_ex_err'>ex_err</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_obj'>inner_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_eager'>eager</span>
      <span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_lazy'>lazy</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='comment'># is_non_null is irrelevant here
</span>      <span class='id identifier rubyid_current_depth'>current_depth</span> <span class='op'>=</span> <span class='int'>0</span>
      <span class='kw'>while</span> <span class='id identifier rubyid_result'>result</span>
        <span class='id identifier rubyid_current_depth'>current_depth</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_parent'>graphql_parent</span>
      <span class='kw'>end</span>
      <span class='ivar'>@lazies_at_depth</span><span class='lbracket'>[</span><span class='id identifier rubyid_current_depth'>current_depth</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_lazy'>lazy</span>
      <span class='id identifier rubyid_lazy'>lazy</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='comment'># Don&#39;t need to reset state here because it _wasn&#39;t_ lazy.
</span>    <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="arguments-instance_method">
  
    #<strong>arguments</strong>(graphql_object, arg_owner, ast_node)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


810
811
812
813
814
815
816
817</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 810</span>

<span class='kw'>def</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='period'>.</span><span class='id identifier rubyid_arguments_statically_coercible?'>arguments_statically_coercible?</span>
    <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_arguments_for'>arguments_for</span><span class='lparen'>(</span><span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='comment'># The arguments must be prepared in the context of the given object
</span>    <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_arguments_for'>arguments_for</span><span class='lparen'>(</span><span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='comma'>,</span> <span class='label'>parent_object:</span> <span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_method_on_directives-instance_method">
  
    #<strong>call_method_on_directives</strong>(method_name, object, directives, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


686
687
688
689</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 686</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call_method_on_directives'>call_method_on_directives</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_directives'>directives</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_run_directive'>run_directive</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_directives'>directives</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="continue_field-instance_method">
  
    #<strong>continue_field</strong>(value, owner_type, field, current_type, ast_node, next_selections, is_non_null, owner_object, arguments, result_name, selection_result, was_scoped, runtime_state)  &#x21d2; <tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The resolver for <code>field</code> returned <code>value</code>. Continue to execute the query,
treating <code>value</code> as <code>type</code> (probably the return type of the field).</p>

<p>Use <code>next_selections</code> to resolve object fields, if there are any.</p>

<p>Location information from <code>path</code> and <code>ast_node</code>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></tt>, <tt>Array</tt>, <tt>Hash</tt>, <tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Lazy, Array, and Hash are all traversed to resolve lazy values later</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 557</span>

<span class='kw'>def</span> <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_was_scoped'>was_scoped</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span>
    <span class='id identifier rubyid_current_type'>current_type</span> <span class='op'>=</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_of_type'>of_type</span>
    <span class='id identifier rubyid_is_non_null'>is_non_null</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_kind'>kind</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SCALAR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ENUM</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_coerce_result'>coerce_result</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_handle_or_reraise'>handle_or_reraise</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_err'>err</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_r'>r</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UNION</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INTERFACE</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_resolved_type_or_lazy'>resolved_type_or_lazy</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_type'>resolve_type</span><span class='lparen'>(</span><span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type_or_lazy'>resolved_type_or_lazy</span><span class='comma'>,</span> <span class='label'>ast_node:</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>trace:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>result_name:</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='label'>result:</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='label'>runtime_state:</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resolved_type_result'>resolved_type_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_resolved_type_result'>resolved_type_result</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_resolved_type_result'>resolved_type_result</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>2</span>
        <span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_value'>resolved_value</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_type_result'>resolved_type_result</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_resolved_type'>resolved_type</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_type_result'>resolved_type_result</span>
        <span class='id identifier rubyid_resolved_value'>resolved_value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_possible_types'>possible_types</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='lparen'>(</span><span class='id identifier rubyid_current_type'>current_type</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_parent_type'>parent_type</span> <span class='op'>=</span> <span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_owner_type'>owner_type</span>
        <span class='id identifier rubyid_err_class'>err_class</span> <span class='op'>=</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='op'>::</span><span class='const'>UnresolvedTypeError</span>
        <span class='id identifier rubyid_type_error'>type_error</span> <span class='op'>=</span> <span class='id identifier rubyid_err_class'>err_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_value'>resolved_value</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_possible_types'>possible_types</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_type_error'>type_error</span><span class='lparen'>(</span><span class='id identifier rubyid_type_error'>type_error</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
        <span class='kw'>nil</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_value'>resolved_value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_was_scoped'>was_scoped</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OBJECT</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_object_proxy'>object_proxy</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='id identifier rubyid_was_scoped'>was_scoped</span> <span class='op'>?</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_wrap_scoped'>wrap_scoped</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_wrap'>wrap</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='id identifier rubyid_err'>err</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_object_proxy'>object_proxy</span><span class='comma'>,</span> <span class='label'>ast_node:</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>trace:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>result_name:</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='label'>result:</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='label'>runtime_state:</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_object'>inner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='op'>|</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span> <span class='op'>=</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_object'>inner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span> <span class='op'>!=</span> <span class='id identifier rubyid_continue_value'>continue_value</span>
        <span class='id identifier rubyid_response_hash'>response_hash</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultHash.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash (class)">GraphQLResultHash</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Runtime/GraphQLResultHash.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_response_hash'>response_hash</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_each_gathered_selections'>each_gathered_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_response_hash'>response_hash</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_selection_array'>is_selection_array</span><span class='op'>|</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_is_selection_array'>is_selection_array</span>
            <span class='id identifier rubyid_this_result'>this_result</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultHash.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash (class)">GraphQLResultHash</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Runtime/GraphQLResultHash.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_final_result'>final_result</span> <span class='op'>=</span> <span class='id identifier rubyid_response_hash'>response_hash</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_this_result'>this_result</span> <span class='op'>=</span> <span class='id identifier rubyid_response_hash'>response_hash</span>
            <span class='id identifier rubyid_final_result'>final_result</span> <span class='op'>=</span> <span class='kw'>nil</span>
          <span class='kw'>end</span>

          <span class='id identifier rubyid_evaluate_selections'>evaluate_selections</span><span class='lparen'>(</span>
            <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span>
            <span class='id identifier rubyid_this_result'>this_result</span><span class='comma'>,</span>
            <span class='id identifier rubyid_final_result'>final_result</span><span class='comma'>,</span>
            <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='comma'>,</span>
          <span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LIST</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_inner_type'>inner_type</span> <span class='op'>=</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_of_type'>of_type</span>
    <span class='comment'># This is true for objects, unions, and interfaces
</span>    <span class='id identifier rubyid_use_dataloader_job'>use_dataloader_job</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_inner_type'>inner_type</span><span class='period'>.</span><span class='id identifier rubyid_unwrap'>unwrap</span><span class='period'>.</span><span class='id identifier rubyid_kind'>kind</span><span class='period'>.</span><span class='id identifier rubyid_input?'>input?</span>
    <span class='id identifier rubyid_inner_type_non_null'>inner_type_non_null</span> <span class='op'>=</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span>
    <span class='id identifier rubyid_response_list'>response_list</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultArray.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultArray (class)">GraphQLResultArray</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Runtime/GraphQLResultArray.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultArray#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_idx'>idx</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_list_value'>list_value</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_value'>inner_value</span><span class='op'>|</span>
        <span class='id identifier rubyid_idx'>idx</span> <span class='op'>||=</span> <span class='int'>0</span>
        <span class='id identifier rubyid_this_idx'>this_idx</span> <span class='op'>=</span> <span class='id identifier rubyid_idx'>idx</span>
        <span class='id identifier rubyid_idx'>idx</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_use_dataloader_job'>use_dataloader_job</span>
          <span class='ivar'>@dataloader</span><span class='period'>.</span><span class='id identifier rubyid_append_job'>append_job</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_resolve_list_item'>resolve_list_item</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_value'>inner_value</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type_non_null'>inner_type_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_this_idx'>this_idx</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_was_scoped'>was_scoped</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_resolve_list_item'>resolve_list_item</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_value'>inner_value</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type_non_null'>inner_type_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_this_idx'>this_idx</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_was_scoped'>was_scoped</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_response_list'>response_list</span>
    <span class='kw'>rescue</span> <span class='const'>NoMethodError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='comment'># Ruby 2.2 doesn&#39;t have NoMethodError#receiver, can&#39;t check that one in this case. (It&#39;s been EOL since 2017.)
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='symbol'>:each</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:receiver</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_receiver'>receiver</span> <span class='op'>==</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>:</span> <span class='kw'>true</span><span class='rparen'>)</span>
        <span class='comment'># This happens when the GraphQL schema doesn&#39;t match the implementation. Help the dev debug.
</span>        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="ListResultFailedError.html" title="GraphQL::Execution::Interpreter::ListResultFailedError (class)">ListResultFailedError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ListResultFailedError.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::ListResultFailedError#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>value:</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_current_path'>current_path</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='comment'># This was some other NoMethodError -- let it bubble to reveal the real error.
</span>        <span class='id identifier rubyid_raise'>raise</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex_err'>ex_err</span>
      <span class='id identifier rubyid_ex_err'>ex_err</span>
    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_handle_or_reraise'>handle_or_reraise</span><span class='lparen'>(</span><span class='id identifier rubyid_err'>err</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex_err'>ex_err</span>
        <span class='id identifier rubyid_ex_err'>ex_err</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='comment'># Detect whether this error came while calling `.each` (before `idx` is set) or while running list *items* (after `idx` is set)
</span>    <span class='id identifier rubyid_error_is_non_null'>error_is_non_null</span> <span class='op'>=</span> <span class='id identifier rubyid_idx'>idx</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span> <span class='op'>:</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span>
    <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_list_value'>list_value</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_error_is_non_null'>error_is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invariant: Unhandled type kind </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_kind'>kind</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_type'>current_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="continue_value-instance_method">
  
    #<strong>continue_value</strong>(value, field, is_non_null, ast_node, result_name, selection_result)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>rubocop:disable Metrics/ParameterLists</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 451</span>

<span class='kw'>def</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span> <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span>
      <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='comment'># When this comes from a list item, use the parent object:
</span>        <span class='id identifier rubyid_parent_type'>parent_type</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Runtime/GraphQLResultArray.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultArray (class)">GraphQLResultArray</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_parent'>graphql_parent</span><span class='period'>.</span><span class='id identifier rubyid_graphql_result_type'>graphql_result_type</span> <span class='op'>:</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_result_type'>graphql_result_type</span>
        <span class='comment'># This block is called if `result_name` is not dead. (Maybe a previous invalid nil caused it be marked dead.)
</span>        <span class='id identifier rubyid_err'>err</span> <span class='op'>=</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='op'>::</span><span class='const'>InvalidNullError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_type'>parent_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_type_error'>type_error</span><span class='lparen'>(</span><span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Error.html" title="GraphQL::Error (class)">Error</a></span></span>
    <span class='comment'># Handle these cases inside a single `when`
</span>    <span class='comment'># to avoid the overhead of checking three different classes
</span>    <span class='comment'># every time.
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_dead'>graphql_dead</span>
        <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>||=</span> <span class='id identifier rubyid_current_path'>current_path</span>
        <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_ast_node'>ast_node</span>
        <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_value'>value</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_selection_result'>selection_result</span>
          <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedFieldError.html" title="GraphQL::UnauthorizedFieldError (class)">UnauthorizedFieldError</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='op'>||=</span> <span class='id identifier rubyid_field'>field</span>
      <span class='comment'># this hook might raise &amp; crash, or it might return
</span>      <span class='comment'># a replacement value
</span>      <span class='id identifier rubyid_next_value'>next_value</span> <span class='op'>=</span> <span class='kw'>begin</span>
        <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_unauthorized_field'>unauthorized_field</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
        <span class='id identifier rubyid_err'>err</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_next_value'>next_value</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span><span class='rparen'>)</span>
      <span class='comment'># this hook might raise &amp; crash, or it might return
</span>      <span class='comment'># a replacement value
</span>      <span class='id identifier rubyid_next_value'>next_value</span> <span class='op'>=</span> <span class='kw'>begin</span>
        <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_unauthorized_object'>unauthorized_object</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
        <span class='id identifier rubyid_err'>err</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_next_value'>next_value</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html#SKIP-constant" title="GraphQL::Execution::SKIP (constant)">SKIP</a></span></span> <span class='op'>==</span> <span class='id identifier rubyid_value'>value</span>
      <span class='comment'># It&#39;s possible a lazy was already written here
</span>      <span class='kw'>case</span> <span class='id identifier rubyid_selection_result'>selection_result</span>
      <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultHash.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash (class)">GraphQLResultHash</a></span></span>
        <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultArray.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultArray (class)">GraphQLResultArray</a></span></span>
        <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_skip_at'>graphql_skip_at</span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='kw'>nil</span>
        <span class='comment'># this can happen with directives
</span>      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invariant: unexpected result class </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
    <span class='kw'>else</span>
      <span class='comment'># What could this actually _be_? Anyhow,
</span>      <span class='comment'># preserve the default behavior of doing nothing with it.
</span>      <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='comment'># It&#39;s an array full of execution errors; add them all.
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_list_type_at_all'>list_type_at_all</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_list?'>list?</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_dead'>graphql_dead</span>
        <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_error'>error</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
          <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_ast_node'>ast_node</span>
          <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>||=</span> <span class='id identifier rubyid_current_path'>current_path</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_list_type_at_all'>list_type_at_all</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_error'>error</span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_selection_result'>selection_result</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_list_type_at_all'>list_type_at_all</span>
            <span class='id identifier rubyid_result_without_errors'>result_without_errors</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_v'>v</span> <span class='rbrace'>}</span>
            <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_result_without_errors'>result_without_errors</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Interpreter.html" title="GraphQL::Execution::Interpreter (class)">Interpreter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RawValue.html" title="GraphQL::Execution::Interpreter::RawValue (class)">RawValue</a></span></span>
    <span class='comment'># Write raw value directly to the response without resolving nested objects
</span>    <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_path-instance_method">
  
    #<strong>current_path</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


439
440
441
442
443
444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 439</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_path'>current_path</span>
  <span class='id identifier rubyid_st'>st</span> <span class='op'>=</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_st'>st</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_rn'>rn</span> <span class='op'>=</span> <span class='id identifier rubyid_st'>st</span><span class='period'>.</span><span class='id identifier rubyid_current_result_name'>current_result_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_rn'>rn</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_all_interpreter_context-instance_method">
  
    #<strong>delete_all_interpreter_context</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


819
820
821
822
823
824
825
826
827
828</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 819</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_all_interpreter_context'>delete_all_interpreter_context</span>
  <span class='id identifier rubyid_per_query_state'>per_query_state</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='symbol'>:__graphql_runtime_info</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_per_query_state'>per_query_state</span>
    <span class='id identifier rubyid_per_query_state'>per_query_state</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='ivar'>@query</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_per_query_state'>per_query_state</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='symbol'>:__graphql_runtime_info</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="directives_include?-instance_method">
  
    #<strong>directives_include?</strong>(node, graphql_object, parent_type)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Check <span class='object_link'><a href="../../Schema/Directive.html#include%3F-class_method" title="GraphQL::Schema::Directive.include? (method)">Schema::Directive.include?</a></span> for each directive that’s present</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


718
719
720
721
722
723
724
725
726
727</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 718</span>

<span class='kw'>def</span> <span class='id identifier rubyid_directives_include?'>directives_include?</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='op'>|</span>
    <span class='id identifier rubyid_dir_defn'>dir_defn</span> <span class='op'>=</span> <span class='ivar'>@schema_directives</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_node'>dir_node</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_gathered_selections-instance_method">
  
    #<strong>each_gathered_selections</strong>(response_hash)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113
114
115
116
117
118
119</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_gathered_selections'>each_gathered_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_response_hash'>response_hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gathered_selections'>gathered_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_response_hash'>response_hash</span><span class='period'>.</span><span class='id identifier rubyid_graphql_application_value'>graphql_application_value</span><span class='comma'>,</span> <span class='id identifier rubyid_response_hash'>response_hash</span><span class='period'>.</span><span class='id identifier rubyid_graphql_result_type'>graphql_result_type</span><span class='comma'>,</span> <span class='id identifier rubyid_response_hash'>response_hash</span><span class='period'>.</span><span class='id identifier rubyid_graphql_selections'>graphql_selections</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
      <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="evaluate_selection-instance_method">
  
    #<strong>evaluate_selection</strong>(result_name, field_ast_nodes_or_ast_node, selections_result)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 234</span>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_selection'>evaluate_selection</span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='rparen'>)</span> <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_dead'>graphql_dead</span>
  <span class='comment'># As a performance optimization, the hash key will be a `Node` if
</span>  <span class='comment'># there&#39;s only one selection of the field. But if there are multiple
</span>  <span class='comment'># selections of the field, it will be an Array of nodes
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span>
    <span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>=</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>=</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_field_name'>field_name</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_owner_type'>owner_type</span> <span class='op'>=</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_result_type'>graphql_result_type</span>
  <span class='id identifier rubyid_field_defn'>field_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='rparen'>)</span>

  <span class='comment'># Set this before calling `run_with_directives`, so that the directive can have the latest path
</span>  <span class='id identifier rubyid_runtime_state'>runtime_state</span> <span class='op'>=</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_field'>current_field</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span> <span class='op'>=</span> <span class='id identifier rubyid_selections_result'>selections_result</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result_name'>current_result_name</span> <span class='op'>=</span> <span class='id identifier rubyid_result_name'>result_name</span>

  <span class='id identifier rubyid_owner_object'>owner_object</span> <span class='op'>=</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_application_value'>graphql_application_value</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_dynamic_introspection'>dynamic_introspection</span>
    <span class='id identifier rubyid_owner_object'>owner_object</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span><span class='period'>.</span><span class='id identifier rubyid_wrap'>wrap</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_any_arguments?'>any_arguments?</span>
    <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Interpreter.html" title="GraphQL::Execution::Interpreter (class)">Interpreter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Arguments.html" title="GraphQL::Execution::Interpreter::Arguments (class)">Arguments</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Arguments.html#EMPTY-constant" title="GraphQL::Execution::Interpreter::Arguments::EMPTY (constant)">EMPTY</a></span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='id identifier rubyid_evaluate_selection_with_resolved_keyword_args'>evaluate_selection_with_resolved_keyword_args</span><span class='lparen'>(</span>
        <span class='const'><span class='object_link'><a href="#NO_ARGS-constant" title="GraphQL::Execution::Interpreter::Runtime::NO_ARGS (constant)">NO_ARGS</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span>
      <span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_evaluate_selection_with_args'>evaluate_selection_with_args</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@query</span><span class='period'>.</span><span class='id identifier rubyid_arguments_cache'>arguments_cache</span><span class='period'>.</span><span class='id identifier rubyid_dataload_for'>dataload_for</span><span class='lparen'>(</span><span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='op'>|</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span> <span class='op'>=</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span> <span class='comment'># This might be in a different fiber
</span>      <span class='id identifier rubyid_evaluate_selection_with_args'>evaluate_selection_with_args</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="evaluate_selection_with_args-instance_method">
  
    #<strong>evaluate_selection_with_args</strong>(arguments, field_defn, ast_node, field_ast_nodes, object, result_name, selection_result, runtime_state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>rubocop:disable Metrics/ParameterLists</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 278</span>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_selection_with_args'>evaluate_selection_with_args</span><span class='lparen'>(</span><span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>  <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='label'>ast_node:</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>result_name:</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='label'>result:</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='label'>runtime_state:</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_return_type_non_null'>return_type_non_null</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type_non_null'>return_type_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='comment'># We can avoid allocating the `{ Symbol =&gt; Object }` hash in this case
</span>        <span class='const'><span class='object_link'><a href="#NO_ARGS-constant" title="GraphQL::Execution::Interpreter::Runtime::NO_ARGS (constant)">NO_ARGS</a></span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_keyword_arguments'>keyword_arguments</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='comment'># Bundle up the extras, then make a new arguments instance
</span>      <span class='comment'># that includes the extras, too.
</span>      <span class='id identifier rubyid_extra_args'>extra_args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_extra'>extra</span><span class='op'>|</span>
        <span class='kw'>case</span> <span class='id identifier rubyid_extra'>extra</span>
        <span class='kw'>when</span> <span class='symbol'>:ast_node</span>
          <span class='id identifier rubyid_extra_args'>extra_args</span><span class='lbracket'>[</span><span class='symbol'>:ast_node</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span>
        <span class='kw'>when</span> <span class='symbol'>:execution_errors</span>
          <span class='id identifier rubyid_extra_args'>extra_args</span><span class='lbracket'>[</span><span class='symbol'>:execution_errors</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ExecutionErrors.html" title="GraphQL::Execution::Interpreter::ExecutionErrors (class)">ExecutionErrors</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ExecutionErrors.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::ExecutionErrors#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_current_path'>current_path</span><span class='rparen'>)</span>
        <span class='kw'>when</span> <span class='symbol'>:path</span>
          <span class='id identifier rubyid_extra_args'>extra_args</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_current_path'>current_path</span>
        <span class='kw'>when</span> <span class='symbol'>:lookahead</span>
          <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span>
            <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_ast_node'>ast_node</span><span class='rbracket'>]</span>
          <span class='kw'>end</span>

          <span class='id identifier rubyid_extra_args'>extra_args</span><span class='lbracket'>[</span><span class='symbol'>:lookahead</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lookahead.html" title="GraphQL::Execution::Lookahead (class)">Lookahead</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lookahead.html#initialize-instance_method" title="GraphQL::Execution::Lookahead#initialize (method)">new</a></span></span><span class='lparen'>(</span>
            <span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span>
            <span class='label'>ast_nodes:</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span>
            <span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span>
          <span class='rparen'>)</span>
        <span class='kw'>when</span> <span class='symbol'>:argument_details</span>
          <span class='comment'># Use this flag to tell Interpreter::Arguments to add itself
</span>          <span class='comment'># to the keyword args hash _before_ freezing everything.
</span>          <span class='id identifier rubyid_extra_args'>extra_args</span><span class='lbracket'>[</span><span class='symbol'>:argument_details</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='symbol'>:__arguments_add_self</span>
        <span class='kw'>when</span> <span class='symbol'>:parent</span>
          <span class='id identifier rubyid_parent_result'>parent_result</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_parent'>graphql_parent</span>
          <span class='id identifier rubyid_extra_args'>extra_args</span><span class='lbracket'>[</span><span class='symbol'>:parent</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_parent_result'>parent_result</span><span class='op'>&amp;.</span><span class='id identifier rubyid_graphql_application_value'>graphql_application_value</span><span class='op'>&amp;.</span><span class='id identifier rubyid_object'>object</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_extra_args'>extra_args</span><span class='lbracket'>[</span><span class='id identifier rubyid_extra'>extra</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_fetch_extra'>fetch_extra</span><span class='lparen'>(</span><span class='id identifier rubyid_extra'>extra</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_extra_args'>extra_args</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
        <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_merge_extras'>merge_extras</span><span class='lparen'>(</span><span class='id identifier rubyid_extra_args'>extra_args</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_keyword_arguments'>keyword_arguments</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_evaluate_selection_with_resolved_keyword_args'>evaluate_selection_with_resolved_keyword_args</span><span class='lparen'>(</span><span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="evaluate_selection_with_resolved_keyword_args-instance_method">
  
    #<strong>evaluate_selection_with_resolved_keyword_args</strong>(kwarg_arguments, resolved_arguments, field_defn, ast_node, field_ast_nodes, object, result_name, selection_result, runtime_state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>rubocop:disable Metrics/ParameterLists</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 336</span>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_selection_with_resolved_keyword_args'>evaluate_selection_with_resolved_keyword_args</span><span class='lparen'>(</span><span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>  <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_field'>current_field</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_arguments'>current_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result_name'>current_result_name</span> <span class='op'>=</span> <span class='id identifier rubyid_result_name'>result_name</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span>
  <span class='comment'># Optimize for the case that field is selected only once
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_next_selections'>next_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span>
    <span class='id identifier rubyid_directives'>directives</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_next_selections'>next_selections</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_directives'>directives</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_next_selections'>next_selections</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_field_result'>field_result</span> <span class='op'>=</span> <span class='id identifier rubyid_call_method_on_directives'>call_method_on_directives</span><span class='lparen'>(</span><span class='symbol'>:resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_directives'>directives</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='comment'># This might be executed in a different context; reset this info
</span>      <span class='id identifier rubyid_runtime_state'>runtime_state</span> <span class='op'>=</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_field'>current_field</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_arguments'>current_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result_name'>current_result_name</span> <span class='op'>=</span> <span class='id identifier rubyid_result_name'>result_name</span>
      <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span>
    <span class='kw'>end</span>
    <span class='comment'># Actually call the field resolver and capture the result
</span>    <span class='id identifier rubyid_app_result'>app_result</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='ivar'>@current_trace</span><span class='period'>.</span><span class='id identifier rubyid_execute_field'>execute_field</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='label'>ast_node:</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='id identifier rubyid_err'>err</span>
    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_handle_or_reraise'>handle_or_reraise</span><span class='lparen'>(</span><span class='id identifier rubyid_err'>err</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex_err'>ex_err</span>
        <span class='id identifier rubyid_ex_err'>ex_err</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_app_result'>app_result</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='label'>ast_node:</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='label'>result_name:</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='label'>result:</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='label'>runtime_state:</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_result'>inner_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='op'>|</span>
      <span class='id identifier rubyid_owner_type'>owner_type</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_result_type'>graphql_result_type</span>
      <span class='id identifier rubyid_return_type'>return_type</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span> <span class='op'>=</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_result'>inner_result</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type'>return_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span> <span class='op'>!=</span> <span class='id identifier rubyid_continue_value'>continue_value</span>
        <span class='id identifier rubyid_was_scoped'>was_scoped</span> <span class='op'>=</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_was_authorized_by_scope_items'>was_authorized_by_scope_items</span>
        <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_was_authorized_by_scope_items'>was_authorized_by_scope_items</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_continue_value'>continue_value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type'>return_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_was_scoped'>was_scoped</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># If this field is a root mutation field, immediately resolve
</span>  <span class='comment'># all of its child fields before moving on to the next root mutation field.
</span>  <span class='comment'># (Subselections of this mutation will still be resolved level-by-level.)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_is_eager'>graphql_is_eager</span>
    <span class='const'><span class='object_link'><a href="../Interpreter.html" title="GraphQL::Execution::Interpreter (class)">Interpreter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Resolve.html" title="GraphQL::Execution::Interpreter::Resolve (module)">Resolve</a></span></span><span class='period'>.</span><span class='id identifier rubyid_resolve_all'><span class='object_link'><a href="Resolve.html#resolve_all-class_method" title="GraphQL::Execution::Interpreter::Resolve.resolve_all (method)">resolve_all</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_field_result'>field_result</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='ivar'>@dataloader</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="evaluate_selections-instance_method">
  
    #<strong>evaluate_selections</strong>(gathered_selections, selections_result, target_result, runtime_state)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 198</span>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_selections'>evaluate_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='comma'>,</span> <span class='id identifier rubyid_target_result'>target_result</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='id identifier rubyid_runtime_state'>runtime_state</span> <span class='op'>||=</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result_name'>current_result_name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span> <span class='op'>=</span> <span class='id identifier rubyid_selections_result'>selections_result</span>
  <span class='comment'># This is a less-frequent case; use a fast check since it&#39;s often not there.
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_directives'>directives</span> <span class='op'>=</span> <span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='lbracket'>[</span><span class='symbol'>:graphql_directives</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:graphql_directives</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_call_method_on_directives'>call_method_on_directives</span><span class='lparen'>(</span><span class='symbol'>:resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_application_value'>graphql_application_value</span><span class='comma'>,</span> <span class='id identifier rubyid_directives'>directives</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_finished_jobs'>finished_jobs</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_enqueued_jobs'>enqueued_jobs</span> <span class='op'>=</span> <span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='id identifier rubyid_gathered_selections'>gathered_selections</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span><span class='op'>|</span>
      <span class='ivar'>@dataloader</span><span class='period'>.</span><span class='id identifier rubyid_append_job'>append_job</span> <span class='lbrace'>{</span>
        <span class='id identifier rubyid_evaluate_selection'>evaluate_selection</span><span class='lparen'>(</span>
          <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_result'>selections_result</span>
        <span class='rparen'>)</span>
        <span class='id identifier rubyid_finished_jobs'>finished_jobs</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_target_result'>target_result</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_finished_jobs'>finished_jobs</span> <span class='op'>==</span> <span class='id identifier rubyid_enqueued_jobs'>enqueued_jobs</span>
          <span class='id identifier rubyid_selections_result'>selections_result</span><span class='period'>.</span><span class='id identifier rubyid_merge_into'>merge_into</span><span class='lparen'>(</span><span class='id identifier rubyid_target_result'>target_result</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
      <span class='comment'># Field resolution may pause the fiber,
</span>      <span class='comment'># so it wouldn&#39;t get to the `Resolve` call that happens below.
</span>      <span class='comment'># So instead trigger a run from this outer context.
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_selections_result'>selections_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_is_eager'>graphql_is_eager</span>
        <span class='ivar'>@dataloader</span><span class='period'>.</span><span class='id identifier rubyid_clear_cache'>clear_cache</span>
        <span class='ivar'>@dataloader</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span>
        <span class='ivar'>@dataloader</span><span class='period'>.</span><span class='id identifier rubyid_clear_cache'>clear_cache</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_selections_result'>selections_result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="final_result-instance_method">
  
    #<strong>final_result</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_final_result'>final_result</span>
  <span class='ivar'>@response</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_graphql_result_data'>graphql_result_data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gather_selections-instance_method">
  
    #<strong>gather_selections</strong>(owner_object, owner_type, selections, selections_to_run = nil, selections_by_name = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
    <span class='comment'># Skip gathering this if the directive says so
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_directives_include?'>directives_include?</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='rparen'>)</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language.html" title="GraphQL::Language (module)">Language</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes.html" title="GraphQL::Language::Nodes (module)">Nodes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes/Field.html" title="GraphQL::Language::Nodes::Field (class)">Field</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_response_key'>response_key</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_alias'>alias</span> <span class='op'>||</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_selections'>selections</span> <span class='op'>=</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='lbracket'>[</span><span class='id identifier rubyid_response_key'>response_key</span><span class='rbracket'>]</span>
      <span class='comment'># if there was already a selection of this field,
</span>      <span class='comment'># use an array to hold all selections,
</span>      <span class='comment'># otherwise, use the single node to represent the selection
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_selections'>selections</span>
        <span class='comment'># This field was already selected at least once,
</span>        <span class='comment'># add this node to the list of selections
</span>        <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_selections'>selections</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_node'>node</span>
        <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='lbracket'>[</span><span class='id identifier rubyid_response_key'>response_key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>
      <span class='kw'>else</span>
        <span class='comment'># No selection was found for this field yet
</span>        <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='lbracket'>[</span><span class='id identifier rubyid_response_key'>response_key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='comment'># This is an InlineFragment or a FragmentSpread
</span>      <span class='kw'>if</span> <span class='ivar'>@runtime_directive_names</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='ivar'>@runtime_directive_names</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='id identifier rubyid_next_selections'>next_selections</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_next_selections'>next_selections</span><span class='lbracket'>[</span><span class='symbol'>:graphql_directives</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_selections_to_run'>selections_to_run</span>
          <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_next_selections'>next_selections</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span>
          <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_next_selections'>next_selections</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_next_selections'>next_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span>
      <span class='kw'>end</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_node'>node</span>
      <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language.html" title="GraphQL::Language (module)">Language</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes.html" title="GraphQL::Language::Nodes (module)">Nodes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes/InlineFragment.html" title="GraphQL::Language::Nodes::InlineFragment (class)">InlineFragment</a></span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
          <span class='id identifier rubyid_type_defn'>type_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>

          <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='lparen'>(</span><span class='id identifier rubyid_type_defn'>type_defn</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_type'>owner_type</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_to_run'>selections_to_run</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_next_selections'>next_selections</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='comment'># it&#39;s an untyped fragment, definitely continue
</span>          <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_to_run'>selections_to_run</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_next_selections'>next_selections</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language.html" title="GraphQL::Language (module)">Language</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes.html" title="GraphQL::Language::Nodes (module)">Nodes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes/FragmentSpread.html" title="GraphQL::Language::Nodes::FragmentSpread (class)">FragmentSpread</a></span></span>
        <span class='id identifier rubyid_fragment_def'>fragment_def</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_fragments'>fragments</span><span class='lbracket'>[</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_type_defn'>type_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='lparen'>(</span><span class='id identifier rubyid_fragment_def'>fragment_def</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='lparen'>(</span><span class='id identifier rubyid_type_defn'>type_defn</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_type'>owner_type</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_fragment_def'>fragment_def</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_to_run'>selections_to_run</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_next_selections'>next_selections</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invariant: unexpected selection class: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_selections_to_run'>selections_to_run</span> <span class='op'>||</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_current_runtime_state-instance_method">
  
    #<strong>get_current_runtime_state</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


729
730
731
732
733
734
735
736
737</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 729</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span>
  <span class='id identifier rubyid_current_state'>current_state</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='symbol'>:__graphql_runtime_info</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_per_query_state'>per_query_state</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_per_query_state'>per_query_state</span><span class='period'>.</span><span class='id identifier rubyid_compare_by_identity'>compare_by_identity</span>
    <span class='id identifier rubyid_per_query_state'>per_query_state</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_current_state'>current_state</span><span class='lbracket'>[</span><span class='ivar'>@query</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="Runtime/CurrentState.html" title="GraphQL::Execution::Interpreter::Runtime::CurrentState (class)">CurrentState</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Runtime/CurrentState.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::Runtime::CurrentState#initialize (method)">new</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> response=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lazy?-instance_method">
  
    #<strong>lazy?</strong>(object)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


846
847
848
849
850
851
852
853</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 846</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_obj_class'>obj_class</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
  <span class='id identifier rubyid_is_lazy'>is_lazy</span> <span class='op'>=</span> <span class='ivar'>@lazy_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_obj_class'>obj_class</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_is_lazy'>is_lazy</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_is_lazy'>is_lazy</span> <span class='op'>=</span> <span class='ivar'>@lazy_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_obj_class'>obj_class</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@schema</span><span class='period'>.</span><span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_is_lazy'>is_lazy</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="minimal_after_lazy-instance_method">
  
    #<strong>minimal_after_lazy</strong>(value, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


739
740
741
742
743
744
745
746
747
748
749</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 739</span>

<span class='kw'>def</span> <span class='id identifier rubyid_minimal_after_lazy'>minimal_after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lazy.html#initialize-instance_method" title="GraphQL::Execution::Lazy#initialize (method)">new</a></span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='ivar'>@schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
      <span class='comment'># The returned result might also be lazy, so check it, too
</span>      <span class='id identifier rubyid_minimal_after_lazy'>minimal_after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_list_item-instance_method">
  
    #<strong>resolve_list_item</strong>(inner_value, inner_type, inner_type_non_null, ast_node, field, owner_object, arguments, this_idx, response_list, owner_type, was_scoped, runtime_state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>rubocop:disable Metrics/ParameterLists</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


672
673
674
675
676
677
678
679
680
681
682
683
684</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 672</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_list_item'>resolve_list_item</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_value'>inner_value</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type_non_null'>inner_type_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_this_idx'>this_idx</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_was_scoped'>was_scoped</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result_name'>current_result_name</span> <span class='op'>=</span> <span class='id identifier rubyid_this_idx'>this_idx</span>
  <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span> <span class='op'>=</span> <span class='id identifier rubyid_response_list'>response_list</span>
  <span class='id identifier rubyid_call_method_on_directives'>call_method_on_directives</span><span class='lparen'>(</span><span class='symbol'>:resolve_each</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='comment'># This will update `response_list` with the lazy
</span>    <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_value'>inner_value</span><span class='comma'>,</span> <span class='label'>ast_node:</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>result_name:</span> <span class='id identifier rubyid_this_idx'>this_idx</span><span class='comma'>,</span> <span class='label'>result:</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='comma'>,</span> <span class='label'>runtime_state:</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_inner_value'>inner_inner_value</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='op'>|</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span> <span class='op'>=</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_inner_value'>inner_inner_value</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type_non_null'>inner_type_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_this_idx'>this_idx</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span> <span class='op'>!=</span> <span class='id identifier rubyid_continue_value'>continue_value</span>
        <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_continue_value'>continue_value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='period'>.</span><span class='id identifier rubyid_graphql_selections'>graphql_selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_this_idx'>this_idx</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='comma'>,</span> <span class='id identifier rubyid_was_scoped'>was_scoped</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_state'>runtime_state</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_type-instance_method">
  
    #<strong>resolve_type</strong>(type, value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


830
831
832
833
834
835
836
837
838
839
840
841
842
843
844</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 830</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_type'>resolve_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_value'>resolved_value</span> <span class='op'>=</span> <span class='ivar'>@current_trace</span><span class='period'>.</span><span class='id identifier rubyid_resolve_type'>resolve_type</span><span class='lparen'>(</span><span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_resolve_type'>resolve_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lazy.html#initialize-instance_method" title="GraphQL::Execution::Lazy#initialize (method)">new</a></span></span> <span class='kw'>do</span>
      <span class='ivar'>@current_trace</span><span class='period'>.</span><span class='id identifier rubyid_resolve_type_lazy'>resolve_type_lazy</span><span class='lparen'>(</span><span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_value'>resolved_value</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_directive-instance_method">
  
    #<strong>run_directive</strong>(method_name, object, directives, idx, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 691</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_directive'>run_directive</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_directives'>directives</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dir_node'>dir_node</span> <span class='op'>=</span> <span class='id identifier rubyid_directives'>directives</span><span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dir_node'>dir_node</span>
    <span class='kw'>yield</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_dir_defn'>dir_defn</span> <span class='op'>=</span> <span class='ivar'>@schema_directives</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raw_dir_args'>raw_dir_args</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_node'>dir_node</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dir_args'>dir_args</span> <span class='op'>=</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span>
      <span class='id identifier rubyid_raw_dir_args'>raw_dir_args</span><span class='comma'>,</span> <span class='comment'># value
</span>      <span class='kw'>nil</span><span class='comma'>,</span> <span class='comment'># field
</span>      <span class='kw'>false</span><span class='comma'>,</span> <span class='comment'># is_non_null
</span>      <span class='id identifier rubyid_dir_node'>dir_node</span><span class='comma'>,</span> <span class='comment'># ast_node
</span>      <span class='kw'>nil</span><span class='comma'>,</span> <span class='comment'># result_name
</span>      <span class='kw'>nil</span><span class='comma'>,</span> <span class='comment'># selection_result
</span>    <span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_dir_args'>dir_args</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
      <span class='kw'>nil</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='period'>.</span><span class='id identifier rubyid_public_send'>public_send</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_args'>dir_args</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_run_directive'>run_directive</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_directives'>directives</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_eager-instance_method">
  
    #<strong>run_eager</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>This <em>begins</em> the execution. Some deferred work
might be stored up in lazies.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_eager'>run_eager</span>
  <span class='id identifier rubyid_root_operation'>root_operation</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selected_operation'>selected_operation</span>
  <span class='id identifier rubyid_root_op_type'>root_op_type</span> <span class='op'>=</span> <span class='id identifier rubyid_root_operation'>root_operation</span><span class='period'>.</span><span class='id identifier rubyid_operation_type'>operation_type</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>query</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_root_type'>root_type</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_root_type_for_operation'>root_type_for_operation</span><span class='lparen'>(</span><span class='id identifier rubyid_root_op_type'>root_op_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_runtime_object'>runtime_object</span> <span class='op'>=</span> <span class='id identifier rubyid_root_type'>root_type</span><span class='period'>.</span><span class='id identifier rubyid_wrap'>wrap</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_root_value'>root_value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_runtime_object'>runtime_object</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_runtime_object'>runtime_object</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_is_eager'>is_eager</span> <span class='op'>=</span> <span class='id identifier rubyid_root_op_type'>root_op_type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mutation</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultHash.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash (class)">GraphQLResultHash</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Runtime/GraphQLResultHash.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_root_type'>root_type</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_object'>runtime_object</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_root_operation'>root_operation</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_eager'>is_eager</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_st'>st</span> <span class='op'>=</span> <span class='id identifier rubyid_get_current_runtime_state'>get_current_runtime_state</span>
  <span class='id identifier rubyid_st'>st</span><span class='period'>.</span><span class='id identifier rubyid_current_result'>current_result</span> <span class='op'>=</span> <span class='ivar'>@response</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_runtime_object'>runtime_object</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># Root .authorized? returned false.
</span>    <span class='ivar'>@response</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_call_method_on_directives'>call_method_on_directives</span><span class='lparen'>(</span><span class='symbol'>:resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_object'>runtime_object</span><span class='comma'>,</span> <span class='id identifier rubyid_root_operation'>root_operation</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='comment'># execute query level directives
</span>      <span class='id identifier rubyid_each_gathered_selections'>each_gathered_selections</span><span class='lparen'>(</span><span class='ivar'>@response</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_selection_array'>is_selection_array</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_is_selection_array'>is_selection_array</span>
          <span class='id identifier rubyid_selection_response'>selection_response</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultHash.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash (class)">GraphQLResultHash</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Runtime/GraphQLResultHash.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_root_type'>root_type</span><span class='comma'>,</span> <span class='id identifier rubyid_runtime_object'>runtime_object</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_eager'>is_eager</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_final_response'>final_response</span> <span class='op'>=</span> <span class='ivar'>@response</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_selection_response'>selection_response</span> <span class='op'>=</span> <span class='ivar'>@response</span>
          <span class='id identifier rubyid_final_response'>final_response</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='kw'>end</span>

        <span class='ivar'>@dataloader</span><span class='period'>.</span><span class='id identifier rubyid_append_job'>append_job</span> <span class='lbrace'>{</span>
          <span class='id identifier rubyid_evaluate_selections'>evaluate_selections</span><span class='lparen'>(</span>
            <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span>
            <span class='id identifier rubyid_selection_response'>selection_response</span><span class='comma'>,</span>
            <span class='id identifier rubyid_final_response'>final_response</span><span class='comma'>,</span>
            <span class='kw'>nil</span><span class='comma'>,</span>
          <span class='rparen'>)</span>
        <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_graphql_dead-instance_method">
  
    #<strong>set_graphql_dead</strong>(selection_result)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Mark this node and any already-registered children as dead,
so that it accepts no more writes.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


426
427
428
429
430
431
432
433
434
435
436
437</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 426</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_graphql_dead'>set_graphql_dead</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_selection_result'>selection_result</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultArray.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultArray (class)">GraphQLResultArray</a></span></span>
    <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_dead'>graphql_dead</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_set_graphql_dead'>set_graphql_dead</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Runtime/GraphQLResultHash.html" title="GraphQL::Execution::Interpreter::Runtime::GraphQLResultHash (class)">GraphQLResultHash</a></span></span>
    <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_dead'>graphql_dead</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_set_graphql_dead'>set_graphql_dead</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='comment'># It&#39;s a scalar, no way to mark it dead.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_result-instance_method">
  
    #<strong>set_result</strong>(selection_result, result_name, value, is_child_result, is_non_null)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 396</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_is_child_result'>is_child_result</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_dead'>graphql_dead</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span>
      <span class='comment'># This is an invalid nil that should be propagated
</span>      <span class='comment'># One caller of this method passes a block,
</span>      <span class='comment'># namely when application code returns a `nil` to GraphQL and it doesn&#39;t belong there.
</span>      <span class='comment'># The other possibility for reaching here is when a field returns an ExecutionError, so we write
</span>      <span class='comment'># `nil` to the response, not knowing whether it&#39;s an invalid `nil` or not.
</span>      <span class='comment'># (And in that case, we don&#39;t have to call the schema&#39;s handler, since it&#39;s not a bug in the application.)
</span>      <span class='comment'># TODO the code is trying to tell me something.
</span>      <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_parent'>graphql_parent</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># This is a top-level result hash
</span>        <span class='ivar'>@response</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_name_in_parent'>name_in_parent</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_result_name'>graphql_result_name</span>
        <span class='id identifier rubyid_is_non_null_in_parent'>is_non_null_in_parent</span> <span class='op'>=</span> <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_graphql_is_non_null_in_parent'>graphql_is_non_null_in_parent</span>
        <span class='id identifier rubyid_set_result'>set_result</span><span class='lparen'>(</span><span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span> <span class='id identifier rubyid_name_in_parent'>name_in_parent</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null_in_parent'>is_non_null_in_parent</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_set_graphql_dead'>set_graphql_dead</span><span class='lparen'>(</span><span class='id identifier rubyid_selection_result'>selection_result</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_is_child_result'>is_child_result</span>
      <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_set_child_result'>set_child_result</span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_selection_result'>selection_result</span><span class='period'>.</span><span class='id identifier rubyid_set_leaf'>set_leaf</span><span class='lparen'>(</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Jul 12 16:54:38 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.2.4).
</div>

    </div>
  </body>
</html>